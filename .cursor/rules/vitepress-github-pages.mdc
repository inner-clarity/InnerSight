# ConfiguraciÃ³n VitePress para GitHub Pages

## ğŸ¯ ConfiguraciÃ³n Obligatoria para InnerSight

### 1. Base Path en config.mts
```typescript
export default defineConfig({
  base: '/InnerSight/',  // â† CRÃTICO: Debe coincidir con nombre del repo
  // ... resto de configuraciÃ³n
})
```

### 2. Archivo .nojekyll
**UbicaciÃ³n**: `docs/public/.nojekyll`
**Contenido**: Archivo vacÃ­o
**PropÃ³sito**: Desactivar Jekyll para que GitHub Pages sirva `_vitepress/`

### 3. Package.json - Scripts
```json
{
  "scripts": {
    "dev": "vitepress dev docs",
    "build": "vitepress build docs",
    "preview": "vitepress preview docs",
    "deploy": "gh-pages -d docs/.vitepress/dist"
  }
}
```

## âš ï¸ Errores Comunes a Evitar

### âŒ Error 1: Base Path Incorrecto
```typescript
// INCORRECTO
base: '/',  // â† Solo funciona en desarrollo local

// CORRECTO para GitHub Pages
base: '/InnerSight/',  // â† Nombre exacto del repositorio
```

### âŒ Error 2: MinÃºsculas en Base Path
```typescript
// INCORRECTO
base: '/innersight/',  // â† GitHub Pages es case-sensitive

// CORRECTO
base: '/InnerSight/',  // â† MayÃºsculas I y S
```

### âŒ Error 3: Archivo .nojekyll Faltante
```
âŒ Sin .nojekyll â†’ GitHub Pages ignora _vitepress/
âœ… Con .nojekyll â†’ Todo funciona correctamente
```

### âŒ Error 4: Referencias a Archivos Inexistentes
```typescript
// EVITAR referencias a archivos que no existen
head: [
  ['script', { src: '/archivo-que-no-existe.js' }],  // â† Causa 404
]
```

## ğŸ”§ Estructura Requerida del Proyecto

```
InnerSight/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ .vitepress/
â”‚   â”‚   â”œâ”€â”€ config.mts       â† base: '/InnerSight/'
â”‚   â”‚   â””â”€â”€ dist/            â† Generado por build
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ .nojekyll        â† OBLIGATORIO
â”‚   â”œâ”€â”€ es/                  â† Idioma base
â”‚   â”œâ”€â”€ en/                  â† Otros idiomas
â”‚   â””â”€â”€ [otros idiomas]/
â”œâ”€â”€ package.json             â† Scripts de deploy
â””â”€â”€ ReportesIA/             â† DocumentaciÃ³n interna
```

## ğŸš€ Flujo de Deploy Correcto

### Paso 1: Build
```bash
npm run build
```
**Verifica**: Que `docs/.vitepress/dist/` se generÃ³ correctamente

### Paso 2: Deploy
```bash
npm run deploy
```
**Resultado**: Sube contenido de `dist/` a rama `gh-pages`

### Paso 3: Configurar GitHub Pages
En GitHub â†’ Settings â†’ Pages:
- **Source**: Deploy from a branch
- **Branch**: `gh-pages`
- **Folder**: `/ (root)`

### Paso 4: Esperar y Verificar
- Espera 1-2 minutos
- Accede a: `https://inner-clarity.github.io/InnerSight/`
- Verifica que estilos carguen correctamente

## ğŸ“ Checklist Pre-Deploy

- [ ] `base: '/InnerSight/'` en `config.mts`
- [ ] Archivo `docs/public/.nojekyll` existe
- [ ] `npm run build` ejecuta sin errores
- [ ] `docs/.vitepress/dist/` contiene archivos generados
- [ ] Todas las rutas en config usan el base path correcto

## ğŸ” DiagnÃ³stico de Problemas

### Estilos No Cargan (pÃ¡gina blanca con HTML)
**Causa**: Base path incorrecto
**SoluciÃ³n**: Verificar que `base: '/InnerSight/'` estÃ© configurado

### Error 404 en la PÃ¡gina Principal
**Causa**: URL incorrecta o deploy no completado
**SoluciÃ³n**: 
1. Usar URL completa: `https://inner-clarity.github.io/InnerSight/`
2. Verificar que rama `gh-pages` existe
3. Esperar 1-2 minutos despuÃ©s del deploy

### Errores 404 en Assets (_vitepress/)
**Causa**: Falta archivo `.nojekyll`
**SoluciÃ³n**: Crear archivo vacÃ­o en `docs/public/.nojekyll`

### Links Internos No Funcionan
**Causa**: Links no usan rutas relativas correctas
**SoluciÃ³n**: Todos los links deben incluir el idioma (ej. `/es/pagina`)

## ğŸ“ DocumentaciÃ³n de Referencia

- **VitePress**: https://vitepress.dev/guide/deploy#github-pages
- **Base Config**: https://vitepress.dev/reference/site-config#base
- **GitHub Pages**: https://docs.github.com/en/pages
- **SoluciÃ³n Completa**: `ReportesIA/solucion-estilos-github-pages-2025-11-03.md`

## ğŸ’¡ Consejos Avanzados

1. **Desarrollo Local**: Con `base: '/InnerSight/'` configurado, el servidor de desarrollo funciona correctamente en `localhost:5173/`

2. **Preview Local**: Usar `npm run preview` para probar el build localmente

3. **Limpiar CachÃ©**: Si cambios no se reflejan, limpiar cachÃ© del navegador (Ctrl + Shift + R)

4. **Verificar Build**: Siempre revisar `docs/.vitepress/dist/` despuÃ©s de build para confirmar que archivos se generaron correctamente

5. **Monitorear Deploy**: Revisar GitHub Actions para ver si el deploy se completÃ³ exitosamente
